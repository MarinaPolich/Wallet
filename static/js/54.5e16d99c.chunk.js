"use strict";(self.webpackChunkwallet=self.webpackChunkwallet||[]).push([[54],{3054:function(n,e,t){t.r(e),t.d(e,{default:function(){return L}});var a,i,r,d,c,o,s,l,p,f,m,u,x=t(5861),h=t(885),b=t(4687),g=t.n(b),y=t(2791),w=t(2388),v=t(168),j=t(7691),I=t(6992),E=j.ZP.img(a||(a=(0,v.Z)(["\n  width: 100%;\n  display: block;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  @media screen and (min-width: 768.99px) {\n    width: 60%;\n  }\n  @media screen and (min-width: 1279.99px) {\n    width: 40%;\n  }\n"]))),Z=j.ZP.div(i||(i=(0,v.Z)(["\n  width: 280px;\n\n  @media screen and (min-width: 768.99px) {\n    display: flex; gap: 32px;\n    width: 336px;\n  }\n  @media screen and (min-width: 1279.99px) {\n    width: 395px;\n  }\n"]))),A=j.ZP.h2(r||(r=(0,v.Z)(["\n  font-size: 30px;\n  font-weight: 400;\n  margin-bottom: 8px;\n  @media screen and (min-width: 768.99px) {\n    margin-bottom: 20px;\n  }\n"]))),P=j.ZP.div(d||(d=(0,v.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 18px;\n  font-weight: 700;\n"]))),D=j.ZP.form(c||(c=(0,v.Z)(["\n  @media screen and (min-width: 768.99px) {\n    display: flex;\n    gap: 16px;\n  }\n  @media screen and (min-width: 1279.99px) {\n    gap: 32px;\n  }\n"]))),S=j.ZP.div(o||(o=(0,v.Z)(["\n  position: relative;\n  & + & {\n    margin-top: 20px;\n  }\n  @media screen and (min-width: 768.99px) {\n   \n    & + & {\n      margin-top: 0;\n    }\n  }\n"]))),N=j.ZP.select(s||(s=(0,v.Z)(["\n  appearance: none;\n  height: 50px;\n  width: 100%;\n  border-radius: 30px;\n  padding-left: 20px;\n  padding-right: 20px;\n  & + & {\n    margin-top: 20px;\n  }\n  @media screen and (min-width: 768.99px) {\n    width: 160px;\n    & + & {\n      margin-top: 0;\n    }\n  }\n  @media screen and (min-width: 1279.99px) {\n    width: 182px;\n  }\n"]))),k=(0,j.ZP)(I.qhg)(l||(l=(0,v.Z)(["\n  width: 24px;\n  height: 18px;\n  position: absolute;\n  top: 50%;\n  right: 0;\n  transform: translate(-20px, -50%);\n  ",":focus + & {\n    transform: translate(-20px, -50%) rotate(180deg);\n  }\n"])),N),C=j.ZP.div(p||(p=(0,v.Z)(["\n  display: flex;\n  justify-content: space-between;\n  height: 58px;\n  background-color: #ff9;\n  border-radius: 30px;\n  margin-top: 20px;\n"]))),F=j.ZP.div(f||(f=(0,v.Z)(["\n  font-weight: 700;\n  font-size: 18px;\n  padding-left: 15px;\n  padding-right: 15px;\n  line-height: 58px;\n  @media screen and (min-width: 768.99px) {\n    padding-left: 20px;\n    padding-right: 20px;\n  }\n  @media screen and (min-width: 1279.99px) {\n    padding-left: 28px;\n    padding-right: 28px;\n  }\n"]))),M=j.ZP.li(m||(m=(0,v.Z)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  line-height: 52px;\n  padding-left: 15px;\n  padding-right: 15px;\n  border-bottom: 1px solid #dcdcdf;\n  box-shadow: 0px 1px 0px rgba(255, 255, 255, 0.6);\n  text-align: left;\n  div {\n    margin-left: 5px;\n  }\n  div + div {\n    margin-left: auto;\n  }\n\n  &::before {\n    content: '';\n    display: block;\n    width: 24px;\n    height: 24px;\n    border-radius: 2px;\n    background-color: ",";\n  }\n"])),(function(n){return n.col})),O=j.ZP.div(u||(u=(0,v.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 16px;\n  padding-left: 15px;\n  padding-right: 15px;\n"]))),z=t(4172),X=t(8268),T=t(3077),J=t(3329);X.kL.register(X.qi,X.u);var W=["#fed057","#FFD8D0","#FF6596","#C5BAFF","#6E78E8","#81E1FF","#00AD84","#4A56E2","#FD9498","#A6A6A6"],Y=[{id:"8603ab35-46cf-4389-968b-a82351241453",transactionDate:"2022-11-28",type:"EXPENSE",comment:"Product",amount:-50,balanceAfter:-50,categoryId:"27eb4b75-9a42-4991-a802-4aefe21ac3ce",userId:"e7d8cef8-0398-4018-8b10-2f11f7dab0ec"},{id:"2fe70c59-d124-45fd-9dc8-ad1c02242e94",transactionDate:"2022-11-28",type:"EXPENSE",comment:"yet product",amount:-120,balanceAfter:-170,categoryId:"27eb4b75-9a42-4991-a802-4aefe21ac3ce",userId:"e7d8cef8-0398-4018-8b10-2f11f7dab0ec"},{id:"91ec47e5-08e8-4f7e-98dc-eb62207544d9",transactionDate:"2022-11-28",type:"INCOME",comment:"salary",amount:200,balanceAfter:30,categoryId:"063f1132-ba5d-42b4-951d-44011ca46262",userId:"e7d8cef8-0398-4018-8b10-2f11f7dab0ec"},{id:"6e47253e-786c-465c-988f-759ae38f6fc5",transactionDate:"2022-11-28",type:"INCOME",comment:"gain",amount:150,balanceAfter:180,categoryId:"063f1132-ba5d-42b4-951d-44011ca46262",userId:"e7d8cef8-0398-4018-8b10-2f11f7dab0ec"},{id:"31138966-153f-4e05-9c7b-69ee95a9285b",transactionDate:"2022-11-28",type:"EXPENSE",comment:"car",amount:-40,balanceAfter:140,categoryId:"3caa7ba0-79c0-40b9-ae1f-de1af1f6e386",userId:"e7d8cef8-0398-4018-8b10-2f11f7dab0ec"},{id:"14360c6e-5f84-468b-8041-afe9e62b8512",transactionDate:"2022-11-28",type:"EXPENSE",comment:"Education",amount:-30,balanceAfter:110,categoryId:"1272fcc4-d59f-462d-ad33-a85a075e5581",userId:"e7d8cef8-0398-4018-8b10-2f11f7dab0ec"},{id:"51dd602b-83bf-4dd0-bcf8-3b57794c852a",transactionDate:"2022-11-28",type:"EXPENSE",comment:"movie",amount:-20,balanceAfter:90,categoryId:"c143130f-7d1e-4011-90a4-54766d4e308e",userId:"e7d8cef8-0398-4018-8b10-2f11f7dab0ec"},{id:"f8373b22-7a18-45b5-842a-18b06cbbf6ae",transactionDate:"2022-11-28",type:"EXPENSE",comment:"other",amount:-20,balanceAfter:70,categoryId:"719626f1-9d23-4e99-84f5-289024e437a8",userId:"e7d8cef8-0398-4018-8b10-2f11f7dab0ec"}],L=function(){var n=(0,y.useState)(null),e=(0,h.Z)(n,2),t=e[0],a=e[1];console.log("summary.categoriesSummary ======",t);var i=new Set(Y.map((function(n){return n.transactionDate.slice(0,4)}))),r=new Set(Y.map((function(n){return n.transactionDate.slice(5,7)}))),d=null===t||void 0===t?void 0:t.categoriesSummary.filter((function(n){return n.total<0})).length;console.log(W.slice(0,d));var c={labels:null===t||void 0===t?void 0:t.categoriesSummary.filter((function(n){return n.total<0})).map((function(n){return n.name})),datasets:[{label:"expense",data:null===t||void 0===t?void 0:t.categoriesSummary.filter((function(n){return n.total<0})).map((function(n){return-n.total})),backgroundColor:W.slice(0,d),borderColor:W.slice(0,d),borderWidth:1}]};return(0,y.useEffect)((function(){function n(){return(n=(0,x.Z)(g().mark((function n(){var e;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,w.Z.defaults.baseURL="https://wallet.goit.ua",w.Z.defaults.headers.common.Authorization="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzaWQiOiIzOGMyNDIzMC0yNmNiLTQ3ZTMtOGQ1Yi1lYjdkOWJlNTU0M2IiLCJpYXQiOjE2Njk3MTcwODUsImV4cCI6MTAwMDAwMDE2Njk3MTcwODR9.kw2_2s9EPHhPx1zJRnA0j8enpY05168BvII-9hnZN2E",n.next=5,w.Z.get("/api/transactions-summary");case 5:return e=n.sent,console.log(e.data),n.abrupt("return",e.data);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))).apply(this,arguments)}(function(){return n.apply(this,arguments)})().then((function(n){return a(n)}))}),[]),(0,J.jsx)(J.Fragment,{children:t?(0,J.jsxs)(Z,{children:[(0,J.jsxs)("div",{children:[(0,J.jsx)(A,{children:"Statistic"}),(0,J.jsxs)("div",{style:{position:"relative"},children:[(0,J.jsxs)(P,{children:["\u20b4 ",t.periodTotal]}),(0,J.jsx)(T.$I,{options:{cutout:"70%",animation:{animateScale:!0}},data:c})]})]}),(0,J.jsxs)("div",{style:{marginTop:"25px"},children:[(0,J.jsxs)(D,{children:[(0,J.jsxs)(S,{children:[(0,J.jsxs)(N,{name:"year",children:[(0,J.jsx)("option",{value:"",children:"Year"}),Array.from(i).map((function(n){return(0,J.jsx)("option",{value:n,children:n},n)}))]}),(0,J.jsx)(k,{})]}),(0,J.jsxs)(S,{children:[(0,J.jsxs)(N,{name:"month",children:[(0,J.jsx)("option",{value:"",children:"Month"}),Array.from(r).map((function(n){return(0,J.jsx)("option",{value:n,children:n},n)}))]}),(0,J.jsx)(k,{})]})]}),(0,J.jsxs)(C,{children:[(0,J.jsx)(F,{children:"Category"}),(0,J.jsx)(F,{children:"Sum"})]}),(0,J.jsx)("ul",{children:t.categoriesSummary.filter((function(n){return n.total<0})).map((function(n,e){var t=n.name,a=n.total;return(0,J.jsxs)(M,{col:W[e],children:[(0,J.jsx)("div",{children:t})," ",(0,J.jsx)("div",{children:-a})]},t)}))}),(0,J.jsxs)(O,{children:[(0,J.jsx)("div",{style:{fontWeight:700},children:"Expenses:"}),(0,J.jsx)("div",{style:{fontWeight:700,color:"#FF6596"},children:-t.expenseSummary})]}),(0,J.jsxs)(O,{children:[(0,J.jsx)("div",{style:{fontWeight:700},children:"Income:"}),(0,J.jsx)("div",{style:{fontWeight:700,color:"#24CCA7"},children:t.incomeSummary})]})]})]}):(0,J.jsx)(E,{src:z,alt:""})})}},4172:function(n,e,t){n.exports=t.p+"static/media/VwCN.a3ecf944e92756e6eeb2.gif"}}]);
//# sourceMappingURL=54.5e16d99c.chunk.js.map