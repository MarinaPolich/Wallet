"use strict";(self.webpackChunkwallet=self.webpackChunkwallet||[]).push([[54],{3054:function(n,t,e){e.r(t),e.d(t,{default:function(){return $}});var r,a,i,o,s,c,d,u,l,p,x,m,h=e(2982),f=e(1413),g=e(5861),v=e(885),y=e(4687),Z=e.n(y),w=e(2791),b=e(2388),j=e(168),S=e(7691),k=e(6992),C=(S.ZP.img(r||(r=(0,j.Z)(["\n  width: 100%;\n  display: block;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  @media screen and (min-width: 768.99px) {\n    width: 60%;\n  }\n  @media screen and (min-width: 1279.99px) {\n    width: 40%;\n  }\n"]))),S.ZP.div(a||(a=(0,j.Z)(["\n  width: 280px;\n\n  @media screen and (min-width: 768.99px) {\n    display: flex; gap: 32px;\n    width: 336px;\n  }\n  @media screen and (min-width: 1279.99px) {\n    width: 395px;\n  }\n"])))),F=S.ZP.h2(i||(i=(0,j.Z)(["\n  font-size: 30px;\n  font-weight: 400;\n  margin-bottom: 8px;\n  @media screen and (min-width: 768.99px) {\n    margin-bottom: 20px;\n  }\n"]))),P=S.ZP.div(o||(o=(0,j.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 18px;\n  font-weight: 700;\n"]))),A=S.ZP.form(s||(s=(0,j.Z)(["\n  @media screen and (min-width: 768.99px) {\n    display: flex;\n    gap: 16px;\n  }\n  @media screen and (min-width: 1279.99px) {\n    gap: 32px;\n  }\n"]))),D=S.ZP.div(c||(c=(0,j.Z)(["\n  position: relative;\n  & + & {\n    margin-top: 20px;\n  }\n  @media screen and (min-width: 768.99px) {\n   \n    & + & {\n      margin-top: 0;\n    }\n  }\n"]))),E=S.ZP.select(d||(d=(0,j.Z)(["\n  appearance: none;\n  height: 50px;\n  width: 100%;\n  border-radius: 30px;\n  padding-left: 20px;\n  padding-right: 20px;\n  & + & {\n    margin-top: 20px;\n  }\n  @media screen and (min-width: 768.99px) {\n    width: 160px;\n    & + & {\n      margin-top: 0;\n    }\n  }\n  @media screen and (min-width: 1279.99px) {\n    width: 182px;\n  }\n"]))),W=(0,S.ZP)(k.qhg)(u||(u=(0,j.Z)(["\n  width: 24px;\n  height: 18px;\n  position: absolute;\n  top: 50%;\n  right: 0;\n  transform: translate(-20px, -50%);\n  ",":focus + & {\n    transform: translate(-20px, -50%) rotate(180deg);\n  }\n"])),E),T=S.ZP.div(l||(l=(0,j.Z)(["\n  display: flex;\n  justify-content: space-between;\n  height: 58px;\n  background-color: #fff;\n  border-radius: 30px;\n  margin-top: 20px;\n  \n"]))),z=S.ZP.div(p||(p=(0,j.Z)(["\n  font-weight: 700;\n  font-size: 18px;\n  padding-left: 15px;\n  padding-right: 15px;\n  line-height: 58px;\n  cursor: pointer;\n  @media screen and (min-width: 768.99px) {\n    padding-left: 20px;\n    padding-right: 20px;\n  }\n  @media screen and (min-width: 1279.99px) {\n    padding-left: 28px;\n    padding-right: 28px;\n  }\n"]))),q=S.ZP.li(x||(x=(0,j.Z)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  line-height: 52px;\n  padding-left: 15px;\n  padding-right: 15px;\n  border-bottom: 1px solid #dcdcdf;\n  box-shadow: 0px 1px 0px rgba(255, 255, 255, 0.6);\n  text-align: left;\n  div {\n    margin-left: 5px;\n  }\n  div + div {\n    margin-left: auto;\n  }\n\n  &::before {\n    content: '';\n    display: block;\n    width: 24px;\n    height: 24px;\n    border-radius: 2px;\n    background-color: ",";\n  }\n"])),(function(n){return n.col})),I=S.ZP.div(m||(m=(0,j.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 16px;\n  padding-left: 15px;\n  padding-right: 15px;\n"]))),R=e(8268),B=e(3623),L=e(9434),M=e(2483),X=e(3329);R.kL.register(R.qi,R.u);var Y=["#fed057","#FFD8D0","#FF6596","#C5BAFF","#6E78E8","#81E1FF","#00AD84","#4A56E2","#FD9498","#A6A6A6"],$=function(){var n=(0,w.useState)(null),t=(0,v.Z)(n,2),e=t[0],r=t[1],a=(0,w.useRef)(),i=(0,w.useRef)();console.log("summary.categoriesSummary ======",e);var o=(0,L.v9)((function(n){return n.finance.transactions})),s=new Set(o.map((function(n){return n.transactionDate.slice(0,4)}))),c=new Set(o.map((function(n){return n.transactionDate.slice(5,7)}))),d=null===e||void 0===e?void 0:e.categoriesSummary.filter((function(n){return n.total<0})).length,u={labels:null===e||void 0===e?void 0:e.categoriesSummary.filter((function(n){return n.total<0})).map((function(n){return n.name})),datasets:[{label:"expense",data:null===e||void 0===e?void 0:e.categoriesSummary.filter((function(n){return n.total<0})).map((function(n){return-n.total})),backgroundColor:Y.slice(0,d),borderColor:Y.slice(0,d),borderWidth:1}]};function l(n){return p.apply(this,arguments)}function p(){return(p=(0,g.Z)(Z().mark((function n(t){var e,o;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),""!==a.current.value||""!==i.current.value){n.next=3;break}return n.abrupt("return");case 3:if(""!==a.current.value||""===i.current.value){n.next=5;break}return n.abrupt("return");case 5:if(""===a.current.value||""!==i.current.value){n.next=16;break}return n.prev=6,n.next=9,b.Z.get("/api/transactions-summary?year=".concat(a.current.value));case 9:e=n.sent,r(e.data),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(6),console.log(n.t0);case 16:if(""===a.current.value||""===i.current.value){n.next=27;break}return n.prev=17,n.next=20,b.Z.get("/api/transactions-summary?month=".concat(i.current.value,"&year=").concat(a.current.value));case 20:o=n.sent,r(o.data),n.next=27;break;case 24:n.prev=24,n.t1=n.catch(17),console.log(n.t1);case 27:case"end":return n.stop()}}),n,null,[[6,13],[17,24]])})))).apply(this,arguments)}return(0,w.useEffect)((function(){function n(){return(n=(0,g.Z)(Z().mark((function n(){var t;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,b.Z.get("/api/transactions-summary");case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}(function(){return n.apply(this,arguments)})().then((function(n){return r(n)}))}),[]),(0,X.jsx)(X.Fragment,{children:e?(0,X.jsxs)(C,{children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(F,{children:"Statistic"}),(0,X.jsxs)("div",{style:{position:"relative"},children:[(0,X.jsxs)(P,{children:["\u20b4 ",e.periodTotal]}),(0,X.jsx)(B.$I,{options:{cutout:"70%",animation:{animateScale:!0}},data:u})]})]}),(0,X.jsxs)("div",{style:{marginTop:"25px"},children:[(0,X.jsxs)(A,{onSubmit:l,children:[(0,X.jsxs)(D,{children:[(0,X.jsxs)(E,{name:"year",onChange:l,ref:a,children:[(0,X.jsx)("option",{value:"",children:"Year"},"0"),Array.from(s).map((function(n){return(0,X.jsx)("option",{value:n,children:n},n)}))]}),(0,X.jsx)(W,{})]}),(0,X.jsxs)(D,{children:[(0,X.jsxs)(E,{name:"month",onChange:l,ref:i,children:[(0,X.jsx)("option",{value:"",children:"Month"},"0"),Array.from(c).map((function(n){return(0,X.jsx)("option",{value:n,children:n},n)}))]}),(0,X.jsx)(W,{})]})]}),(0,X.jsxs)(T,{children:[(0,X.jsx)(z,{"data-sort":"=",onClick:function(n){var t=n.currentTarget;"="===t.dataset.sort||"d"===t.dataset.sort?(t.dataset.sort="i",r((function(n){return(0,f.Z)((0,f.Z)({},n),{},{categoriesSummary:(0,h.Z)(n.categoriesSummary.sort((function(n,t){return n.name>t.name?1:-1})))})}))):"i"===t.dataset.sort&&(t.dataset.sort="d",r((function(n){return(0,f.Z)((0,f.Z)({},n),{},{categoriesSummary:(0,h.Z)(n.categoriesSummary.sort((function(n,t){return n.name<t.name?1:-1})))})})))},children:"Category"}),(0,X.jsx)(z,{"data-sort":"=",onClick:function(n){var t=n.currentTarget;"="===t.dataset.sort||"d"===t.dataset.sort?(t.dataset.sort="i",r((function(n){return(0,f.Z)((0,f.Z)({},n),{},{categoriesSummary:(0,h.Z)(n.categoriesSummary.sort((function(n,t){return-n.total>-t.total?1:-1})))})}))):"i"===t.dataset.sort&&(t.dataset.sort="d",r((function(n){return(0,f.Z)((0,f.Z)({},n),{},{categoriesSummary:(0,h.Z)(n.categoriesSummary.sort((function(n,t){return-n.total<-t.total?1:-1})))})})))},children:"Sum"})]}),(0,X.jsx)("ul",{children:e.categoriesSummary.filter((function(n){return n.total<0})).map((function(n,t){var e=n.name,r=n.total;return(0,X.jsxs)(q,{col:Y[t],children:[(0,X.jsx)("div",{children:e})," ",(0,X.jsx)("div",{children:-r})]},e)}))}),(0,X.jsxs)(I,{children:[(0,X.jsx)("div",{style:{fontWeight:700},children:"Expenses:"}),(0,X.jsx)("div",{style:{fontWeight:700,color:"#FF6596"},children:-e.expenseSummary})]}),(0,X.jsxs)(I,{children:[(0,X.jsx)("div",{style:{fontWeight:700},children:"Income:"}),(0,X.jsx)("div",{style:{fontWeight:700,color:"#24CCA7"},children:e.incomeSummary})]})]})]}):(0,X.jsx)(M.a,{})})}}}]);
//# sourceMappingURL=54.dcd5439b.chunk.js.map